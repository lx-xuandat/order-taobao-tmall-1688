(function(){const s=()=>{const t=document.querySelectorAll('input[type="checkbox"]:checked[name^=item][vtx-item]'),n=[];t.forEach(e=>{const o=e.getAttribute("vtx-item");o!==void 0&&typeof o!="boolean"&&n.push({item_id:o,quantity:document.querySelector('input[name="item['+o+'][quantity]"]').value})}),console.table(n)},h=t=>{const n=document.querySelectorAll('input[name^="link"][type="checkbox"][vtx-cart-link], textarea[name^="link"][vtx-cart-link]'),e=[];n.forEach(o=>{console.log(o);const c=o.getAttribute("vtx-cart-link");e.push({cart_link_id:c,dong_go:document.querySelector('input[name="link['+c+'][dong_go]"]').checked,kiem_dem:document.querySelector('input[name="link['+c+'][kiem_dem]"]').checked,note:document.querySelector('textarea[name="link['+c+'][note]"]').value})}),console.table(e)};document.querySelectorAll(".btn-delete").forEach(t=>{let n=document.querySelectorAll(".btn-delete").length;t.onclick=()=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(Swal.fire("Deleted!","Your file has been deleted.","success"),t.parentElement.parentElement.remove(),n=document.querySelectorAll(".btn-delete").length,n<1&&(document.getElementById("cart-container-delete").remove(),document.getElementById("cart-empty-cart").classList.remove("d-none")))})}});let l=1,m=0,d=799;const r=document.querySelectorAll(".product-quantity-minus"),i=document.querySelectorAll(".product-quantity-plus"),a=document.querySelectorAll("table.cart .vtx-item, table.cart .vtx-cart, table.cart .vtx-link"),u=document.querySelector(".vtx-checkout"),k=document.getElementById("vtx-update-carts");k.onclick=h,u.onclick=s,r.forEach(t=>{t.onclick=()=>{l=Number(t.parentElement.childNodes[3].value),l>m&&(l=Number(t.parentElement.childNodes[3].value)-1,t.parentElement.childNodes[3].value=l)}}),i.forEach(t=>{t.onclick=()=>{l<d&&(l=Number(t.parentElement.childNodes[3].value)+1,t.parentElement.childNodes[3].value=l)}}),a.forEach(t=>{t.onchange=n=>{const e={item:!1,link:!1,cart:!1};if(n.target.classList.forEach(c=>{c.startsWith("vtx-item")?e.item="."+c:c.startsWith("vtx-link-")?e.link="."+c:c.startsWith("vtx-cart-")&&(e.cart="."+c)}),e.link){if(e.item){const f=document.querySelectorAll(".vtx-item"+e.link);document.querySelector(e.link).checked=!Array.from(f).some(y=>!y.checked)}const c=document.querySelectorAll(".vtx-link"+e.cart);document.querySelector(e.cart).checked=!Array.from(c).some(f=>!f.checked)}e.link&&e.item===!1?document.querySelectorAll(".vtx-item"+e.link).forEach(c=>c.checked=document.querySelector(e.link).checked):e.cart&&e.link===!1&&e.item===!1&&document.querySelectorAll(e.cart).forEach(c=>c.checked=document.querySelector(e.cart).checked)}})})();(()=>{let s;const h=async(r,i)=>{let a=r.target;console.log("===================================="),console.log(a),console.log(i),console.log("====================================");const u=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t=await(await fetch("/e-commerce/cart-links",{method:"PUT",headers:{"X-CSRF-TOKEN":u,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})).json();console.log(t)},l='tr[vtx-cart-link] [name^="link["][name$="[note]"]',m='tr[vtx-cart-link] [name^="link["][name$="[dong_go]"]',d='tr[vtx-cart-link] [name^="link["][name$="[kiem_dem]"]';document.querySelectorAll(l+","+m+","+d).forEach(r=>{r.oninput=i=>{var n,e,o,c;let a=(n=r.closest("tr[vtx-cart-link]"))==null?void 0:n.getAttribute("vtx-cart-link"),u=((e=r.closest("tr[vtx-cart-link]").querySelector(l))==null?void 0:e.value)||null,k=((o=r.closest("tr[vtx-cart-link]").querySelector(m))==null?void 0:o.checked)??!1,t=((c=r.closest("tr[vtx-cart-link]").querySelector(d))==null?void 0:c.checked)??!1;clearTimeout(s),s=setTimeout(()=>{h(i,{link_id:a,note:u,dong_go:k,kiem_dem:t})},999)}})})();
